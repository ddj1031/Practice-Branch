package com.teamtreehouse;

import java.nio.file.*;
import org.apache.tika.Tika;

import static java.nio.file.StandardWatchEventKinds.ENTRY_CREATE;
/**
 * Hello world!
 *
 */
public class App 
{
	
	private static final String FILE_TYPE = "text/csv";
	private static final String DIR_TO_WATCH = "/Users/ddj10/Downloads/tmp";
	
    public static void main( String[] args ) throws Exception {
    	
    	Path dir = Paths.get(DIR_TO_WATCH);
    	Tika tika = new Tika();
    	WatchService watchService = FileSystems.getDefault().newWatchService();
    	dir.register(watchService, ENTRY_CREATE);
    	
    	WatchKey key;
    	do {
    		key = watchService.take();
    		
    		key.pollEvents().stream().filter(e -> {
    			return FILE_TYPE.equals(type)
    		})
    	} while(key.reset());
    	
        System.out.println( "Hello World!" );
    }
}
